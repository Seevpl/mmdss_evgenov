# Лабораторная работа 3
Формулировка и решение финансовых ЗЛП с помощью симплекс-метода.
## Цель работы
Научиться создавать и решать с помощью симплекс-метода ЗЛП в финансовой сфере.
## Задачи
1. Сформулировать задачу линейного программирования в финансовой сфере,
2. Записать математическую формулировку такой задачи,
3. Разработать программу для решения ЗЛП симплекс-методом,
4. Продемонстрировать работу программы на ранее сформулированной задаче.
## Словесная постановка ЗЛП
Банку необходимо принять решение об инвестировании в представленные проекты. По каждому из 4ёх проектов банк может принять решение об инвестировании в стандартном предлагаемом объёме или об инвестировании в большой либо меньшей степени.\
Инвестирование должно выполняться поэтапно. Один этап - один год, всего 3 этапа. Трёхлетний бюджет банка накладывает в каждом году ограничения в инвестировании: 48, 50 и 54 млн. рублей соответственно. Для каждого проекта известны уровни инвестиционного вложения (при инвестировании в стандартном предлагаемом объёме) в каждом году, а также общее значение чистого дисконтированного дохода (NPV) в млн. рублей:
|Проект|ЧДД|1 инв. год|2 инв. год|3 инв. год|
|---|---|---|---|---|
|1|39|15|8|14|
|2|45|17|17|7|
|3|50|20|10|15|
|4|48|9|15|21|
## Математическая запись
Полная запись:

$W(x) = 39x_1 + 45x_2 + 50x_3 + 48x_4 \rightarrow max$

$`
\begin{equation*}
 \begin{cases}
   15x_1 + 17x_2 + 20x_3 + 9x_4 \leq 48
   \\
   8x_1 + 17x_2 + 10x_3 + 15x_4 \leq 50
   \\
   14x_1 + 7x_2 + 15x_3 + 21x_4 \leq 54
 \end{cases}
\end{equation*}
`$

$x_1, x_2, x_3, x_4 \geq 0$

Краткая запись:

$W(x) = c(x) \rightarrow max$\
Ограничения:\
$Ax \leq b$\
$x_j \geq 0, j = 1, 2, 3, 4$

где:\
$c = (c_1, ... c_4)$ - ЧДД всех четырёх проектов.\
$A = (a_ij)$ - матрица ограничений ($a_ij$ - вложение в $j$-й проект в $i$-м году).\
$b = (b_1, ... b_3)$ - вектор-столбец, бюджет инвестиций в $i$-м году.\
$x_j$: доля вложения в $j$-й проект относительно стандартного предлагаемого объёма. 
## Код программы
Ссылка на файл программы на гитхабе:\
https://github.com/Seevpl/mmdss_evgenov/blob/825959371d53490ccebecc25f61ac2e11d08ca0e/lab3/Simplex.ipynb
## Демонстрация работы программы
Изначальный результат чтения файла с записью ЗЛП:\
![Screenshot of the initial file task parsing](/lab3/img0.png)\
Результат получения из начального списка переменных для реализации симплекс-метода:\
![Screenshot of the initial vars parsed](/lab3/img1.png)\
Работа программы с передачей в неё полученных переменных:\
![Screenshot of the simplex-method computation steps](/lab3/img2.png)\
Первая симплекс-таблица является исходной таблицей, полученной после приведения данной ЗЛП к каноническому виду.\
Исходя из результатов работы программы, значение $Q_min$ данной задачи линейного программирования достигает минимума (-165) при значениях $x_1 = 0$, $x_2 = 1$, $x_3 = 0.8$, $x_4 = 1.67$. Соответственно, при этих же значениях переменных $x_1, ... x_4$ исходная функция достигает максимума, 165. Таким образом, ответом на словесно сформулированную задачу будет являться следующее: для получения максимальной прибыли при соблюдении всех ограничений, банку стоит вложиться во второй проект в соответствии со стандартным предлагаемым объёмом инвестиций, во второй проект вложить 80% от стандартных предлагаемых средств, а в третий проект - 167%. В первый же проект банку инвестировать не стоит.